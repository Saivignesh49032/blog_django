{% extends 'blog/base.html' %}

{% block content %}
<div class="blog-container">
    <!-- Simple Header -->
    <div class="page-header">
        <h1>Category: {{ cats }}</h1>
    </div>

    {% if category_posts %}
    <!-- Posts Grid -->
    <div class="posts-grid">
        {% for post in category_posts %}
        <article class="post-card">
            {% if post.image %}
            <div class="card-image">
                <a href="{% url 'blog:detail' post.pk %}">
                    <img src="{{ post.image.url }}" alt="{{ post.title }}">
                </a>
                <span class="category-tag">{{ cats }}</span>
            </div>
            {% endif %}

            <div class="card-body">
                <h2 class="post-title">
                    <a href="{% url 'blog:detail' post.pk %}">{{ post.title }}</a>
                </h2>

                <div class="post-meta">
                    <span class="author">By {{ post.author }}</span>
                    <span class="dot">•</span>
                    <span class="date">{{ post.pub_date|date:"M d, Y" }}</span>
                </div>

                <p class="post-excerpt">{{ post.content|truncatewords:25 }}</p>

                <a href="{% url 'blog:detail' post.pk %}" class="read-more">
                    Read Article <span class="arrow">→</span>
                </a>
            </div>
        </article>
        {% endfor %}
    </div>

    {% else %}
    <div class="no-posts">
        <p>No posts found in this category.</p>
        <a href="{% url 'blog:index' %}" class="page-link" style="display: inline-block; margin-top: 20px;">Back to All
            Posts</a>
    </div>
    {% endif %}
</div>
{% endblock %}